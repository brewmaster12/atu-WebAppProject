<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <style>
        /* Sets background colour and centred alignment for whole page */
        body {
            background-color: bisque;
            display: flex;
            align-items: center;
            flex-direction: column;
        }

        /* Container for the price so the € sign is separate from the number */
        .container {
            /* Aligns the item side-by-side */
            display: flex;
            /* Centre content */
            justify-content: center;
        }

        img {
            margin-bottom: 10px;
        }

        a {
            margin: 10px;
        }
    </style>
</head>
<body>
    <h1 id="product"><%= product %></h1>
    <h3>By <%= author %></h3>
    <h5>Published by <%= publisher %></h5>
    <img src="/images/<%= myImage%>" height="400px">
    <div class="container">
        <p>€</p>
        <p id="price"><%= price%></p>
    </div>
    
    <!-- Centres to text with Bootstrap -->
    <div class="container text-center">
        <p><%= blurb %></p>
    </div>

    <div>
        <select id="quantity" name="quantity">
            <option value="1" selected>1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
        </select>
        <button onclick="addToCart()">Add to cart</button>
    </div>

    <a href="./"><button class="btn btn-primary btn-block">Back to Home page</button></a>
</body>
</html>

<script>
    // Adds items to "cart" in local storage when button is clicked
    function addToCart() {
        // Assign elements to variables
        let product = document.getElementById("product").innerHTML;
        let quantity = document.getElementById("quantity").value;
        let price = document.getElementById("price").innerHTML;
        // Creates an object to store price and quantity as one entity
        let quan_price = {p: price, quan: quantity};
        // Pushes the item and "quan_price" to local storage; "quan_price" object is converted into a string
        localStorage.setItem(product, JSON.stringify(quan_price));
        // Alerts the user that the items have been addded successfully
        alert("Added to cart!");
    }
</script>